{"version":3,"sources":["Person/data/CNA21.px","Person/data/VSA50.px","Person/data/VSA60.px","Person/px.js","Person/population.js","Person/names.js","Person/Profile.js","Person/Person.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","parsePXContent","content","Promise","resolve","reject","lines","split","pxObject","values","valueKeyRegex","valueCounts","forEach","line","key","value","valueKeyMatch","exec","push","length","rowName","columnName","entryName","valueArrays","map","matchAll","m","rowValues","columnValues","entryValues","output","entryLayout","reduce","o","v","D","top","DATA","filter","i","I","indexes","reverse","count","Math","floor","index","undefined","valueName","parsePXFile","filePath","path","request","XMLHttpRequest","open","send","onreadystatechange","readyState","status","getResponseHeader","indexOf","responseText","then","maritalStatusPromise","CNA21Path","generateRandomPerson","data","year","Date","getFullYear","ageGroup","age","breakdown","years","Set","Object","yearData","keys","concat","sort","effectiveYear","y","entries","ageData","getBreakdownByYear","ageGroups","match","total","parseInt","goal","random","sum","ddd","group","minAge","maxAge","loc","location","breakdown1","entry","maritalStatus","breakdown2","toLowerCase","exportPromise","namePaths","VSA50Path","VSA60Path","namesPromise","perYearData","weightedData","randomNameByYear","yearIndex","weightedNames","name","pair","weightedName","isPathDone","readPXFile","nameEntry","yearEntry","every","p","clothes","hairStyles","backHairStyles","Profile","props","faceColor","bodyColor","backgroundColor","hair","backHair","hairColor","clothingColor","clothing","state","viewBox","height","width","id","clipPathUnits","x","clipPath","style","fill","this","fillOpacity","stroke","strokeWidth","strokeMiterlimit","strokeDasharray","strokeDashoffset","strokeOpacity","d","cx","cy","rx","ry","React","Component","generate","generateStat","dropLowest","dropHighest","rolls","Array","from","ceil","slice","statNames","generateStats","Person","dateOfBirth","tags","stats","backgroundHSL","skinHSL","hairHSL","clothingHSL","_isMounted","setState","bind","canvas","createRef","bgColor","hsluv","hsluvToHex","skinColor","statTable","valueClass","className","join","personData","maritalstatus","generateRandomPersonPromise","func","person","dob","month","day","date","isCurrentYear","isCurrentMonth","getMonth","getDate","cycle","pickDateOfBirth","randomNameByYearPromise","compareString","a","b","localeCompare","compareDateOfBirth","A","B","compareNumber","App","_","timestamp","performance","now","people","sortKey","sortReversed","sorter","assign","keyMatch","order","onClick","handleSort","Boolean","window","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.3df8cf72.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/CNA21.d2ba8fea.px\";","module.exports = __webpack_public_path__ + \"static/media/VSA50.c625e72f.px\";","module.exports = __webpack_public_path__ + \"static/media/VSA60.0dc412df.px\";","function readTextFile(path) {\n    const promise = new Promise(function (resolve, reject) {\n        const request = new XMLHttpRequest();\n        request.open('GET', path, true);\n        request.send(null);\n        request.onreadystatechange = function() {\n            if (request.readyState === 4 && request.status === 200) {\n                var type = request.getResponseHeader('Content-Type');\n                if (type.indexOf(\"text\") !== 1) {\n                    return resolve(request.responseText);\n                }\n                return reject(\"type was not text\");\n            }\n        };\n    });\n\n    return promise;\n}\n\nfunction parsePXContent(content) {\n    return new Promise(function(resolve, reject) {\n        const lines = content.split(/;\\r?\\n?/);\n        const pxObject = {};\n\n        const values = [];\n        const valueKeyRegex = /^VALUES\\(\"([^\"]+)\"\\)/;\n\n        const valueCounts = [];\n\n        lines.forEach(function(line) {\n            const [key, value] = line.split(/=/);\n            const valueKeyMatch = valueKeyRegex.exec(key);\n            if(valueKeyMatch !== null) {\n                values.push(valueKeyMatch[1]);\n                valueCounts.push(value.split(',').length);\n            }\n\n            pxObject[key] = value;\n        });\n\n        const [rowName, columnName, entryName] = values;\n\n        const valueArrays = values.map(function(value) {\n            return [...pxObject[`VALUES(\"${value}\")`].matchAll(/\"([^\"]+)\"/g)].map(function (m) {\n                return m[1];\n            });\n        });\n\n        const rowValues = [...pxObject[`VALUES(\"${rowName}\")`].matchAll(/\"([^\"]+)\"/g)].map(function (m) {\n            return m[1];\n        });\n\n        const columnValues = [...pxObject[`VALUES(\"${columnName}\")`].matchAll(/\"([^\"]+)\"/g)].map(function (m) {\n            return m[1];\n        });\n\n        const entryValues = [...pxObject[`VALUES(\"${entryName}\")`].matchAll(/\"([^\"]+)\"/g)].map(function (m) {\n            return m[1];\n        });\n\n        const output = {};\n        output.entryLayout = entryValues;\n\n        output[rowName] = rowValues.reduce(function (o, v) {\n            o[v] = {};\n            return o;\n        }, {});\n\n        output[columnName] = columnValues.reduce(function (o, v) {\n            o[v] = {};\n            return o;\n        }, {});\n\n        let D = [];\n        let top = {};\n\n        pxObject.DATA.split(/\\s+/g).filter(function(v) {\n            return v !== \"\";\n        }).forEach(function(v, i) {\n            let I = i;\n            const indexes = valueCounts.map(function(v) { return v; }).reverse().map(function(count) {\n                let v = I % count;\n                I = Math.floor(I / count);\n                return v;\n            }).reverse();\n\n            indexes.reduce(function (o, index, i) {\n                if(o[index] === undefined) {\n                    o[index] = [];\n                }\n\n                if(i === indexes.length - 1) {\n                    o[index] = v;\n                }\n\n                return o[index];\n            }, D);\n\n            values.reduce(function (o, valueName, i) {\n                const value = valueArrays[i][indexes[i]];\n                if(o[value] === undefined) {\n                    o[value] = {};\n                }\n\n                if(i === values.length - 1) {\n                    o[value] = v;\n                }\n\n                return o[value];\n            }, top);\n        });\n\n        resolve(top);\n    });\n}\n\nexport default function parsePXFile(filePath) {\n    return readTextFile(filePath).then(parsePXContent);\n}","import CNA21Path from './data/CNA21.px';\nimport parsePXFile from './px.js';\n\nconst maritalStatusPromise = parsePXFile(CNA21Path);\n\nfunction getBreakdownByYear(data, year) {\n    if(year === undefined) {\n        year = new Date().getFullYear();\n    }\n\n    const years = [...new Set(Object.values(data).reduce(function(o, yearData) {\n        const years = Object.keys(yearData);\n\n        return o.concat(years);\n    }, []))].sort();\n\n    let effectiveYear = years[0];\n\n    years.forEach(function(y) {\n        if(year > y) {\n            effectiveYear = y;\n        }\n    });\n\n    const breakdown = Object.entries(data).reduce(function(o, ageData) {\n        const [ageGroup, years] = ageData;\n        o[ageGroup] = years[effectiveYear];\n        return o;\n    }, {});\n\n    return breakdown;\n}\n\nfunction generateRandomPerson(data, year) {\n    if(year === undefined) {\n        year = new Date().getFullYear();\n    }\n\n    const breakdown = getBreakdownByYear(data, year);\n\n    let ageGroup;\n    const ageGroups = Object.keys(breakdown).filter(function(key) {\n        if(key === \"85 years and over\") {\n            return true;\n        } else if(key.match(/and over/)) {\n            return false;\n        } else if(key === \"All ages\") {\n            return false;\n        } else if(key === \"0 - 14 years\") {\n            return false;\n        } else if(key === \"15 - 24 years\") {\n            return false;\n        } else if(key === \"25 - 44 years\") {\n            return false;\n        } else if(key === \"45 - 64 years\") {\n            return false;\n        }\n        return true;\n    });\n\n    let total = Object.values(breakdown['All ages']).reduce(function(o, v) {\n        return o + parseInt(v['Both sexes']['All marital status']);\n    }, 0);\n\n    let age;\n    ageGroup = ageGroups[0];\n    let goal = Math.random();\n    let sum = 0;\n\n    let ddd = [];\n    ageGroups.forEach(function(group) {\n        let count = Object.values(breakdown[group]).reduce(function(o, v) {\n            return o + parseInt(v['Both sexes']['All marital status']);\n        }, 0);\n\n        ddd.push([group, count]);\n\n        count /= total;\n\n        if(sum < goal) {\n            ageGroup = group;\n        }\n        sum += count;\n    });\n\n    if(ageGroup === \"85 years and over\") {\n        age = 85 + Math.floor(25 * Math.random());\n    } else {\n        const match  = /(\\d+) - (\\d+) years/.exec(ageGroup);\n        const minAge = parseInt(match[1]);\n        const maxAge = parseInt(match[2]);\n\n        age = minAge + Math.floor(Math.random() * (maxAge - minAge));\n    }\n\n    const breakdown1 = breakdown[ageGroup];\n    let loc;\n    total = Object.values(breakdown1).reduce(function(o, v) {\n        return o + parseInt(v['Both sexes']['All marital status']);\n    }, 0);\n\n    goal = Math.random();\n    sum = 0;\n    Object.entries(breakdown1).forEach(function(entry) {\n        const [key, value] = entry;\n        const count = parseInt(value['Both sexes']['All marital status']) / total;\n\n        if(sum < goal) {\n            loc = key;\n        }\n        sum += count;\n    });\n\n    let location;\n    if(loc.match(/Rural/)) {\n        location = \"rural\";\n    } else {\n        location = \"urban\";\n    }\n\n    const breakdown2 = breakdown1[loc]['Both sexes'];\n\n    let maritalStatus;\n    total = parseInt(breakdown2['All marital status']);\n\n    goal = Math.random();\n    sum = 0;\n    Object.entries(breakdown2).filter(function(entry) {\n        const key = entry[0];\n        return key !== 'All marital status';\n    }).forEach(function(entry) {\n        const [key, value] = entry;\n        const count = parseInt(value) / total;\n\n        if(sum < goal) {\n            maritalStatus = key.toLowerCase();\n        }\n        sum += count;\n    });\n\n    return {\n        age,\n        location,\n        maritalStatus\n    };\n\n}\n\nconst exportPromise = new Promise(function(resolve, reject) {\n    maritalStatusPromise.then(function (data) {\n        resolve(function(year) {\n            return generateRandomPerson(data, year);\n        });\n    });\n});\n\nexport default exportPromise;","import readPXFile from './px.js';\nimport VSA50Path from './data/VSA50.px';\nimport VSA60Path from './data/VSA60.px';\n\nconst namePaths = [VSA50Path, VSA60Path];\n\nconst namesPromise = new Promise(function (resolve, reject) {\n    const perYearData = {};\n\n    let weightedData = [];\n\n    function randomNameByYear(year) {\n        const years = Object.keys(weightedData).sort();\n\n        if(year === undefined) {\n            const yearIndex = Math.floor(Math.random() * years.length);\n            year = years[yearIndex];\n        }\n\n        let weightedNames = weightedData[year];\n        if(weightedNames === undefined) {\n            let effectiveYear = years[0];\n\n            years.forEach(function (v) {\n                if(v > year) {\n                    effectiveYear = v;\n                }\n            });\n\n            weightedNames = weightedData[effectiveYear];\n        }\n        const value = Math.random();\n\n        let name = weightedNames[0][1];\n        \n        weightedNames.forEach(function(pair) {\n            let [sum, weightedName] = pair;\n            if(value > sum) {\n                name = weightedName;\n            }\n\n        });\n\n        return [name, year];\n    }\n\n    function checkIfCombined() {\n        if(Object.values(isPathDone).every(function (v) { return v; })) {\n            weightedData = Object.entries(perYearData).reduce(function(o, yearEntry) {\n                const [year, nameEntry] = yearEntry;\n\n                let total = Object.values(nameEntry).reduce(function(p, v) {\n                    return p + parseInt(v);\n                }, 0);\n\n                let sum = 0;\n                o[year] = Object.entries(nameEntry).reduce(function(p, entry) {\n                    const [name, count] = entry;\n                    sum += parseInt(count);\n                    return p.concat([[sum / total, name]]);\n                }, []);\n\n                return o;\n            }, {});\n\n            resolve(randomNameByYear);\n        }\n    }\n\n    const isPathDone = namePaths.reduce(function(o, v){ \n        o[v] = false;\n        return o;\n    }, {});\n\n    namePaths.forEach(function(path) {\n        readPXFile(path).then(function(data) {\n            isPathDone[path] = true;\n\n            Object.entries(data).forEach(function (nameEntry) {\n                const [name, years] = nameEntry;\n                Object.entries(years).forEach(function(yearEntry) {\n                    const [year, entry] = yearEntry;\n\n                    if(Object.values(entry)[0] === '\"..\"') {\n                        return;\n                    }\n\n                    if(perYearData[year] === undefined) {\n                        perYearData[year] = {};\n                    }\n\n                    if(perYearData[year][name] === undefined) {\n                        perYearData[year][name] = parseInt(Object.values(entry)[0]);\n                    } else {\n                        perYearData[year][name] += parseInt(Object.values(entry)[0]);\n                    }\n                });\n            });\n\n            checkIfCombined();\n        });\n    });\n});\n\nexport default namesPromise;","import React from 'react';\n\nconst clothes = [\n   \"m -2.9096706,56.064201 c 2.8292323,-0.708352 13.5750386,-5.675146 16.3177366,-7.110723 8.273123,4.355151 15.925971,5.625924 22.08714,-0.520817 3.348651,2.173625 13.363223,5.837543 17.571456,7.169955 -0.517257,4.769433 -2.365889,9.171336 -0.109991,18.695177 l -57.2709873,0.718333 c 1.218611,-5.370755 3.2913181,-12.267335 1.4046457,-18.951925 z\",\n   \"m 3.2321849,53.052031 c 2.8292323,-0.708352 7.4331831,-2.662976 10.1758811,-4.098553 8.273123,4.355151 15.925971,5.625924 22.08714,-0.520817 3.348651,2.173625 7.560869,3.515145 11.769102,4.847557 -0.517257,4.769433 -2.896385,7.549159 -0.640487,17.073 L 4.8403833,70.380498 C 6.0589943,65.009743 5.1188573,59.736621 3.2321849,53.052031 Z\",\n   \"m 7.5307714,52.145831 c 2.8292326,-0.708352 2.8982056,-1.560384 5.6409036,-2.995961 4.294768,20.838277 17.294419,21.454887 22.323531,-0.717209 3.348651,2.173625 1.891133,0.976351 5.559366,2.992342 -0.517257,4.769433 0.575141,13.088666 2.831039,22.612507 L 5.472159,74.426088 C 6.69077,69.055333 9.4174438,58.830421 7.5307714,52.145831 Z\"\n];\n\nconst hairStyles = [\n   \"m 13.649175,27.103089 c 0.04882,3.468153 4.42188,7.43181 6.175408,6.922417 1.944524,-0.564876 9.372758,-9.382073 11.339921,-9.392798 3.817523,-1.045243 2.286836,6.002018 5.465179,2.100283 0.861355,-7.349693 -5.226369,-15.558403 -12.002585,-15.592005 -8.386473,0.443643 -10.473894,8.84045 -10.977923,15.962103 z\",\n   \"m 13.649175,27.103089 c 1.746546,1.348754 2.505321,-2.280207 4.258849,-2.7896 1.944524,-0.564876 5.03566,-3.123006 7.002823,-3.133731 1.957204,-0.01067 4.122677,1.975712 6.116883,2.451341 1.958285,0.467062 3.486634,4.368442 5.601953,3.101892 -2.512607,-7.564018 -5.226369,-15.558403 -12.002585,-15.592005 -8.386473,0.443643 -8.389345,8.07842 -10.977923,15.962103 z\",\n   \"m 13.649175,27.103089 c 0.04882,3.468153 4.834667,-9.583337 6.588195,-10.09273 1.944524,-0.564876 8.959971,7.633074 10.927134,7.622349 3.817523,-1.045243 2.286836,6.002018 5.465179,2.100283 0.861355,-7.349693 -5.226369,-15.558403 -12.002585,-15.592005 -8.386473,0.443643 -10.473894,8.84045 -10.977923,15.962103 z\",\n];\n\nconst backHairStyles = [\n   \"\",\n   \"m 20.505037,15.874534 c -8.133262,6.60722 -8.89088,20.848549 -7.659496,30.489014 5.069765,6.347684 19.563974,5.988072 24.364744,-0.565417 1.49714,-9.688705 -0.277707,-24.105608 -8.797252,-30.23857 -2.141032,-1.541264 -5.860409,-1.348427 -7.907996,0.314973 z\",\n   \"m 20.505037,15.874534 c -8.133262,6.60722 -9.16442,11.559966 -7.933036,21.200431 5.069765,6.347684 20.009435,6.275159 24.810205,-0.27833 1.49714,-9.688705 -0.449628,-15.104112 -8.969173,-21.237074 -2.141032,-1.541264 -5.860409,-1.348427 -7.907996,0.314973 z\",\n   \"m 12.572001,37.074965 c 5.069765,6.347684 20.345291,6.908875 25.146061,0.355386 0.744986,-8.658837 0.355385,-22.759983 -12.50707,-22.847146 -13.828478,-0.09371 -13.353222,16.552986 -12.638991,22.49176 z\",\n   \"M 24.825961,22.14324 C 32.37628,22.011084 36.304415,8.4992208 25.339931,8.3917032 14.375447,8.2841856 15.798885,22.301245 24.825961,22.14324 Z\",\n];\n\nclass Profile extends React.Component {\n   constructor(props) {\n      super(props);\n\n      const {\n         faceColor=\"#bfbfbf\",\n         bodyColor=\"#999999\",\n         backgroundColor=\"#98bfe7\",\n         hair=hairStyles[Math.floor(Math.random() * hairStyles.length)],\n         backHair=backHairStyles[Math.floor(Math.random() * backHairStyles.length)],\n         hairColor=\"#444\",\n         clothingColor=\"#f00\",\n         clothing=clothes[Math.floor(Math.random() * clothes.length)],\n      } = props;\n\n      this.state = {\n         faceColor,\n         bodyColor,\n         backgroundColor,\n         hair,\n         backHair,\n         hairColor,\n         clothingColor,\n         clothing,\n      };\n   }\n\n   render() {\n      return (\n         <svg\n            viewBox=\"0 0 50.000 70.000\"\n            height=\"70mm\"\n            width=\"50mm\">\n            <defs\n               id=\"defs\">\n               <clipPath\n                  id=\"clip\"\n                  clipPathUnits=\"userSpaceOnUse\">\n                  <rect\n                     id=\"clipRect\"\n                     width=\"50.000\"\n                     height=\"70.00\"\n                     x=\"0\"\n                     y=\"0\" />\n               </clipPath>\n            </defs>\n            <g\n               id=\"layer1\">\n               <g\n                  clipPath=\"url(#clip)\"\n                  id=\"profile\">\n                  <rect\n                     y=\"0\"\n                     x=\"0\"\n                     height=\"70.000\"\n                     width=\"50.000\"\n                     id=\"background\"\n                     style={{\n                        fill: this.state.backgroundColor,\n                        fillOpacity: 1,\n                        stroke: \"#000000\",\n                        strokeWidth: 2.00001,\n                        strokeMiterlimit: 4,\n                        strokeDasharray: \"none\",\n                        strokeDashoffset:0,\n                        strokeOpacity: 1\n                     }} />\n                  <path\n                     style={{\n                        fill: this.state.hairColor,\n                        stroke: \"black\",\n                        strokeWidth: 1,\n                     }}\n                     d={this.state.backHair}\n                     />\n                  <path\n                     style={{\n                        fill: this.state.bodyColor,\n                        stroke: \"black\",\n                        strokeWidth: 1,\n                     }}\n                     d=\"m 20.000127,39.762751 h 10.000064 c 5.000031,10.000064 5.000031,10.000064 20.000126,15.000096 V 70.000443 H 0 V 54.762847 C 15.000095,49.762815 15.000095,49.762815 20.000127,39.762751 Z\"\n                     id=\"body\" />\n                  <ellipse\n                     style={{\n                        fill: this.state.faceColor,\n                        stroke: \"black\",\n                        strokeWidth: 1,\n                     }}\n                     id=\"face\"\n                     cx=\"25.000158\"\n                     cy=\"29.76268\"\n                     rx=\"10.000064\"\n                     ry=\"15.000095\" />\n                  <path\n                     style={{\n                        fill: this.state.hairColor,\n                        stroke: \"black\",\n                        strokeWidth: 1,\n                     }}\n                     d={this.state.hair}\n                     />\n                  <path\n                     style={{\n                        fill: this.state.clothingColor,\n                        stroke: \"black\",\n                        strokeWidth: 1,\n                     }}\n                     d={this.state.clothing}\n                     />   \n                  <rect\n                     style={{\n                        fill: \"none\",\n                        stroke: \"black\",\n                        strokeWidth: 2,\n                     }}\n                     id=\"border\"\n                     width=\"50.000\"\n                     height=\"70.000\"\n                     x=\"0.0\"\n                     y=\"0.0\" />\n               </g>\n            </g>\n         </svg>\n      );\n   }\n}\n\nProfile.generate = function() {\n   return {\n      hair: hairStyles[Math.floor(Math.random() * hairStyles.length)],\n      backHair: backHairStyles[Math.floor(Math.random() * backHairStyles.length)],\n      clothing: clothes[Math.floor(Math.random() * clothes.length)],\n   };\n};\n\nexport default Profile;","import React from 'react';\nimport generateRandomPersonPromise from './population.js';\nimport randomNameByYearPromise from './names.js';\nimport Profile from './Profile.js';\nimport './Person.css';\nimport hsluv from 'hsluv';\n\nlet year = parseInt(new Date().getFullYear());\n\nfunction generateStat(dropLowest=2, dropHighest=2) {\n    const rolls = Array.from(new Array(dropLowest + dropHighest + 3)).map(function() {\n        return Math.ceil(6 * Math.random());\n    }).sort();\n\n    return rolls.slice(dropLowest, dropLowest + 3).reduce(function(o, v) {\n        return o + v;\n    }, 0);\n}\nconst statNames = ['STR', 'DEX', 'CON', 'INT', 'WIS', 'CHA'];\nfunction generateStats(dropLowest=3, dropHighest=3) {\n    return statNames.reduce(function(o, v) {\n        o[v] = generateStat(dropLowest, dropHighest);\n        return o;\n    }, {});\n}\n\nfunction pickDateOfBirth(year) {\n    const date = new Date();\n\n    const isCurrentYear = parseInt(year) === parseInt(date.getFullYear());\n    let month;\n    if(isCurrentYear) {\n        month = Math.ceil(date.getMonth() * Math.random());\n    } else {\n        month = Math.ceil(Math.random() * 12);\n    }\n\n    const isCurrentMonth = month === parseInt(date.getMonth());\n    let day;\n    if(isCurrentYear && isCurrentMonth) {\n        day = Math.ceil(Math.random() * date.getDate());\n    } else {\n        const cycle = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n        if(month === 2) {\n            if(year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0)) {\n                cycle[1] = 29;\n            }\n        }\n\n        day = Math.ceil(cycle[month - 1] * Math.random());\n    }\n\n    return [day, month, year];\n}\n\n\nclass Person extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const {\n            name,\n            dateOfBirth = [],\n            maritalStatus,\n            location,\n            tags = [],\n            stats = generateStats(),\n            backgroundHSL=[\n                Math.floor(Math.random() * 360),\n                100,\n                75,\n            ],\n            skinHSL = [\n                34,\n                72,\n                Math.floor(Math.random() * 80 + 10),\n            ],\n            hairHSL = [\n                Math.floor(Math.random() * 360),\n                Math.floor(Math.random() * 50 + 50),\n                Math.floor(Math.random() * 20 + 10),\n            ],\n            clothingHSL = [\n                Math.floor(Math.random() * 360),\n                Math.floor(Math.random() * 100),\n                Math.floor(Math.random() * 100),\n            ],\n            clothing,\n            hair,\n            backHair,\n        } = props;\n\n        this.state = {\n            name,\n            tags,\n            stats,\n            dateOfBirth,\n            location,\n            maritalStatus,\n            backgroundHSL,\n            skinHSL,\n            hairHSL,\n            clothingHSL,\n            clothing,\n            hair,\n            backHair,\n        };\n\n        this._isMounted = false;\n\n        if(name === undefined) {\n            Person.generate().then(function(data) {\n                this.setState(data);\n            }.bind(this));\n        }\n\n        this.canvas = React.createRef();\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    render() {\n        const skinHSL = this.state.skinHSL;\n\n        const bgColor = hsluv.hsluvToHex(this.state.backgroundHSL);\n        const faceColor = hsluv.hsluvToHex([skinHSL[0], skinHSL[1], skinHSL[2] - 5]);\n        const skinColor = hsluv.hsluvToHex(skinHSL);\n        const clothingColor = hsluv.hsluvToHex(this.state.clothingHSL);\n        const hairColor = hsluv.hsluvToHex(this.state.hairHSL);\n\n        const statTable = statNames.map(function(name) {\n\n            const value = this.state.stats[name];\n            let valueClass = \"value\";\n            if(value <= 6) {\n                valueClass += \" very low\";\n            } else if(value <= 8) {\n                valueClass += \" low\";\n            } else if(value >= 14) {\n                valueClass += \" very high\";\n            } else if(value >= 12) {\n                valueClass += \" high\";\n            }\n            return (<div key={name} className={`stat ${name}`}>\n                <div className=\"name\">{name}</div>\n                <div className={valueClass}>{value}</div>\n            </div>);\n        }.bind(this));\n\n        return (<div className=\"person\" style={this.props.style || {}}>\n            <Profile\n                backgroundColor={bgColor}\n                bodyColor={skinColor}\n                faceColor={faceColor}\n                clothingColor={clothingColor}\n                hairColor={hairColor}\n                clothing={this.state.clothing}\n                backHair={this.state.backHair}\n                hair={this.state.hair}\n                ></Profile>\n            <h1 className=\"name\">{this.state.name}</h1>\n            <div className=\"dob\">{this.state.dateOfBirth.join(\".\")} ({year - parseInt(this.state.dateOfBirth[2])} years old)</div>\n            <div className=\"marital-status\">{this.state.maritalStatus}</div>\n            <div className=\"location\">{this.state.location}</div>\n            <div className=\"stats\">\n                {statTable}\n            </div>\n        </div>);\n    }\n}\n\nPerson.generate = function(year) {\n    if(year === undefined) {\n        year = parseInt(new Date().getFullYear());\n    }\n\n    return new Promise(function(resolve, reject) {\n        const personData = {\n            name: undefined,\n            dateOfBirth: undefined,\n            maritalstatus: undefined,\n            location: undefined,\n            stats: generateStats(),\n            backgroundHSL: [\n                Math.floor(Math.random() * 360),\n                100,\n                75,\n            ],\n            skinHSL: [\n                34,\n                72,\n                Math.floor(Math.random() * 80 + 10),\n            ],\n            hairHSL: [\n                Math.floor(Math.random() * 360),\n                Math.floor(Math.random() * 50 + 50),\n                Math.floor(Math.random() * 20 + 10),\n            ],\n            clothingHSL: [\n                Math.floor(Math.random() * 360),\n                Math.floor(Math.random() * 100),\n                Math.floor(Math.random() * 100),\n            ],\n            ...Profile.generate(),\n        };\n\n        generateRandomPersonPromise.then(function(func) {\n            const person = func(year);\n            const dob = pickDateOfBirth(parseInt(year) - parseInt(person.age))\n\n            personData.dateOfBirth = dob;\n            personData.maritalStatus = person.maritalStatus;\n            personData.location = person.location;\n\n            randomNameByYearPromise.then(function(randomNameByYear) {\n                const name = randomNameByYear(dob[2])[0];\n                personData.name = name;\n                resolve(personData);\n            });\n        });\n    });\n}\n\nexport default Person;","import React from 'react';\nimport './App.css';\n\n//import Map from './Map/Map.js';\nimport Person from './Person/Person.js';\n\nfunction compareString(a, b) {\n  return a.localeCompare(b);\n}\n\nfunction compareDateOfBirth(a, b) {\n  const A = a.slice().reverse();\n  const B = b.slice().reverse();\n\n  if(A < B) {\n    return -1;\n  } else if(A > B) {\n    return 1;\n  } else {\n    return 0;\n  }\n}\n\nfunction compareNumber(a, b) {\n  if(a < b) {\n    return -1;\n  } else if(a > b) {\n    return 1;\n  } else {\n    return 0;\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    Array.from(new Array(50)).forEach(function(_, i) {\n      const data = {\n        timestamp: performance.now()\n      };\n      Person.generate().then(function(d) {\n        Object.keys(d).forEach(function(key) {\n          data[key] = d[key];\n        });\n\n        this.setState({\n          people: this.state.people.concat([data]).sort()\n        });\n\n      }.bind(this));\n    }.bind(this));\n\n    this.state = {\n      people: [],\n      sortKey: undefined,\n      sortReversed: false,\n    };\n  }\n\n\n  handleSort(key) {\n    function sorter(key, func) {\n      function output() {\n        const people = this.state.people.map(function(v) {\n          return Object.assign({}, v, {timestamp: performance.now()});\n        }).sort(function(a, b) {\n          let A;\n          let B;\n          const keyMatch = /^stat:(.*)/.exec(key);\n          if(keyMatch !== null) {\n            A = a.stats[keyMatch[1]];\n            B = b.stats[keyMatch[1]];\n          } else {\n            A = a[key];\n            B = b[key];\n          }\n\n          if(this.state.sortKey === key && !this.state.sortReversed) {\n            return func(B, A);\n          } else {\n            return func(A, B);\n          }\n        }.bind(this));\n\n        this.setState({\n          sortKey: key,\n          people,\n          sortReversed: this.state.sortKey === key && !this.state.sortReversed,\n        });\n      }\n\n      output.bind(this);\n      return output;\n    }\n    \n    sorter.bind(this);\n\n    switch(key) {\n      case \"name\":\n        return sorter(\"name\", compareString).bind(this);\n      case \"age\":\n        return sorter(\"dateOfBirth\", compareDateOfBirth).bind(this);\n      case \"marital status\":\n        return sorter(\"maritalStatus\", compareString).bind(this);\n      case \"location\":\n        return sorter(\"location\", compareString).bind(this);\n      case \"STR\": return sorter(\"stat:STR\", compareNumber).bind(this);\n      case \"DEX\": return sorter(\"stat:DEX\", compareNumber).bind(this);\n      case \"CON\": return sorter(\"stat:CON\", compareNumber).bind(this);\n      case \"INT\": return sorter(\"stat:INT\", compareNumber).bind(this);\n      case \"WIS\": return sorter(\"stat:WIS\", compareNumber).bind(this);\n      case \"CHA\": return sorter(\"stat:CHA\", compareNumber).bind(this);\n      default:\n        break;\n    }\n  }\n\n  render() {\n    let people = this.state.people.slice().map(function(data, i) {\n      return (<Person {...data} key={`${i}_${data.timestamp}`} style={{order: i}}></Person>);\n    });\n\n    return (\n      <div className=\"App\">\n        <h1>People of the Village</h1>\n        <div>\n          <span>Sort: </span>\n          <button onClick={this.handleSort(\"name\")}>name</button>\n          <button onClick={this.handleSort(\"age\")}>age</button>\n          <button onClick={this.handleSort(\"marital status\")}>marital status</button>\n          <button onClick={this.handleSort(\"location\")}>location</button>\n          <button onClick={this.handleSort(\"STR\")}>STR</button>\n          <button onClick={this.handleSort(\"DEX\")}>DEX</button>\n          <button onClick={this.handleSort(\"CON\")}>CON</button>\n          <button onClick={this.handleSort(\"INT\")}>INT</button>\n          <button onClick={this.handleSort(\"WIS\")}>WIS</button>\n          <button onClick={this.handleSort(\"CHA\")}>CHA</button>\n        </div>\n        <div className=\"people\">\n          {people}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}