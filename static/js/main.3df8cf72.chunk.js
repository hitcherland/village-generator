(this["webpackJsonpvillage-generator"]=this["webpackJsonpvillage-generator"]||[]).push([[0],[,,,,,,,,,,,,,function(t,e,a){t.exports=a.p+"static/media/CNA21.d2ba8fea.px"},function(t,e,a){t.exports=a.p+"static/media/VSA50.c625e72f.px"},function(t,e,a){t.exports=a.p+"static/media/VSA60.0dc412df.px"},,function(t,e,a){t.exports=a(25)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),o=a(12),i=a.n(o),c=(a(22),a(3)),s=a(4),l=a(5),h=a(7),u=a(6),d=(a(23),a(16)),f=a(1),m=a(2),v=a(13);function b(t){return new Promise((function(e,a){var r=t.split(/;\r?\n?/),n={},o=[],i=/^VALUES\("([^"]+)"\)/,c=[];r.forEach((function(t){var e=t.split(/=/),a=Object(f.a)(e,2),r=a[0],s=a[1],l=i.exec(r);null!==l&&(o.push(l[1]),c.push(s.split(",").length)),n[r]=s}));var s=o[0],l=o[1],h=o[2],u=o.map((function(t){return Object(m.a)(n['VALUES("'.concat(t,'")')].matchAll(/"([^"]+)"/g)).map((function(t){return t[1]}))})),d=Object(m.a)(n['VALUES("'.concat(s,'")')].matchAll(/"([^"]+)"/g)).map((function(t){return t[1]})),v=Object(m.a)(n['VALUES("'.concat(l,'")')].matchAll(/"([^"]+)"/g)).map((function(t){return t[1]})),b=Object(m.a)(n['VALUES("'.concat(h,'")')].matchAll(/"([^"]+)"/g)).map((function(t){return t[1]})),p={};p.entryLayout=b,p[s]=d.reduce((function(t,e){return t[e]={},t}),{}),p[l]=v.reduce((function(t,e){return t[e]={},t}),{});var g=[],M={};n.DATA.split(/\s+/g).filter((function(t){return""!==t})).forEach((function(t,e){var a=e,r=c.map((function(t){return t})).reverse().map((function(t){var e=a%t;return a=Math.floor(a/t),e})).reverse();r.reduce((function(e,a,n){return void 0===e[a]&&(e[a]=[]),n===r.length-1&&(e[a]=t),e[a]}),g),o.reduce((function(e,a,n){var i=u[n][r[n]];return void 0===e[i]&&(e[i]={}),n===o.length-1&&(e[i]=t),e[i]}),M)})),e(M)}))}function p(t){return(e=t,new Promise((function(t,a){var r=new XMLHttpRequest;r.open("GET",e,!0),r.send(null),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status)return 1!==r.getResponseHeader("Content-Type").indexOf("text")?t(r.responseText):a("type was not text")}}))).then(b);var e}var g=p(a.n(v).a);function M(t,e){void 0===e&&(e=(new Date).getFullYear());var a,r,n=function(t,e){void 0===e&&(e=(new Date).getFullYear());var a=Object(m.a)(new Set(Object.values(t).reduce((function(t,e){var a=Object.keys(e);return t.concat(a)}),[]))).sort(),r=a[0];return a.forEach((function(t){e>t&&(r=t)})),Object.entries(t).reduce((function(t,e){var a=Object(f.a)(e,2),n=a[0],o=a[1];return t[n]=o[r],t}),{})}(t,e),o=Object.keys(n).filter((function(t){return"85 years and over"===t||!t.match(/and over/)&&("All ages"!==t&&("0 - 14 years"!==t&&("15 - 24 years"!==t&&("25 - 44 years"!==t&&"45 - 64 years"!==t))))})),i=Object.values(n["All ages"]).reduce((function(t,e){return t+parseInt(e["Both sexes"]["All marital status"])}),0);a=o[0];var c=Math.random(),s=0,l=[];if(o.forEach((function(t){var e=Object.values(n[t]).reduce((function(t,e){return t+parseInt(e["Both sexes"]["All marital status"])}),0);l.push([t,e]),s<c&&(a=t),s+=e/=i})),"85 years and over"===a)r=85+Math.floor(25*Math.random());else{var h=/(\d+) - (\d+) years/.exec(a),u=parseInt(h[1]),d=parseInt(h[2]);r=u+Math.floor(Math.random()*(d-u))}var v,b,p=n[a];i=Object.values(p).reduce((function(t,e){return t+parseInt(e["Both sexes"]["All marital status"])}),0),c=Math.random(),s=0,Object.entries(p).forEach((function(t){var e=Object(f.a)(t,2),a=e[0],r=e[1],n=parseInt(r["Both sexes"]["All marital status"])/i;s<c&&(v=a),s+=n})),b=v.match(/Rural/)?"rural":"urban";var g,M=p[v]["Both sexes"];return i=parseInt(M["All marital status"]),c=Math.random(),s=0,Object.entries(M).filter((function(t){return"All marital status"!==t[0]})).forEach((function(t){var e=Object(f.a)(t,2),a=e[0],r=e[1],n=parseInt(r)/i;s<c&&(g=a.toLowerCase()),s+=n})),{age:r,location:b,maritalStatus:g}}var k=new Promise((function(t,e){g.then((function(e){t((function(t){return M(e,t)}))}))})),O=a(14),E=a.n(O),y=a(15),S=a.n(y),j=[E.a,S.a],C=new Promise((function(t,e){var a={},r=[];function n(t){var e=Object.keys(r).sort();if(void 0===t){var a=Math.floor(Math.random()*e.length);t=e[a]}var n=r[t];if(void 0===n){var o=e[0];e.forEach((function(e){e>t&&(o=e)})),n=r[o]}var i=Math.random(),c=n[0][1];return n.forEach((function(t){var e=Object(f.a)(t,2),a=e[0],r=e[1];i>a&&(c=r)})),[c,t]}var o=j.reduce((function(t,e){return t[e]=!1,t}),{});j.forEach((function(e){p(e).then((function(i){o[e]=!0,Object.entries(i).forEach((function(t){var e=Object(f.a)(t,2),r=e[0],n=e[1];Object.entries(n).forEach((function(t){var e=Object(f.a)(t,2),n=e[0],o=e[1];'".."'!==Object.values(o)[0]&&(void 0===a[n]&&(a[n]={}),void 0===a[n][r]?a[n][r]=parseInt(Object.values(o)[0]):a[n][r]+=parseInt(Object.values(o)[0]))}))})),Object.values(o).every((function(t){return t}))&&(r=Object.entries(a).reduce((function(t,e){var a=Object(f.a)(e,2),r=a[0],n=a[1],o=Object.values(n).reduce((function(t,e){return t+parseInt(e)}),0),i=0;return t[r]=Object.entries(n).reduce((function(t,e){var a=Object(f.a)(e,2),r=a[0],n=a[1];return i+=parseInt(n),t.concat([[i/o,r]])}),[]),t}),{}),t(n))}))}))})),H=["m -2.9096706,56.064201 c 2.8292323,-0.708352 13.5750386,-5.675146 16.3177366,-7.110723 8.273123,4.355151 15.925971,5.625924 22.08714,-0.520817 3.348651,2.173625 13.363223,5.837543 17.571456,7.169955 -0.517257,4.769433 -2.365889,9.171336 -0.109991,18.695177 l -57.2709873,0.718333 c 1.218611,-5.370755 3.2913181,-12.267335 1.4046457,-18.951925 z","m 3.2321849,53.052031 c 2.8292323,-0.708352 7.4331831,-2.662976 10.1758811,-4.098553 8.273123,4.355151 15.925971,5.625924 22.08714,-0.520817 3.348651,2.173625 7.560869,3.515145 11.769102,4.847557 -0.517257,4.769433 -2.896385,7.549159 -0.640487,17.073 L 4.8403833,70.380498 C 6.0589943,65.009743 5.1188573,59.736621 3.2321849,53.052031 Z","m 7.5307714,52.145831 c 2.8292326,-0.708352 2.8982056,-1.560384 5.6409036,-2.995961 4.294768,20.838277 17.294419,21.454887 22.323531,-0.717209 3.348651,2.173625 1.891133,0.976351 5.559366,2.992342 -0.517257,4.769433 0.575141,13.088666 2.831039,22.612507 L 5.472159,74.426088 C 6.69077,69.055333 9.4174438,58.830421 7.5307714,52.145831 Z"],w=["m 13.649175,27.103089 c 0.04882,3.468153 4.42188,7.43181 6.175408,6.922417 1.944524,-0.564876 9.372758,-9.382073 11.339921,-9.392798 3.817523,-1.045243 2.286836,6.002018 5.465179,2.100283 0.861355,-7.349693 -5.226369,-15.558403 -12.002585,-15.592005 -8.386473,0.443643 -10.473894,8.84045 -10.977923,15.962103 z","m 13.649175,27.103089 c 1.746546,1.348754 2.505321,-2.280207 4.258849,-2.7896 1.944524,-0.564876 5.03566,-3.123006 7.002823,-3.133731 1.957204,-0.01067 4.122677,1.975712 6.116883,2.451341 1.958285,0.467062 3.486634,4.368442 5.601953,3.101892 -2.512607,-7.564018 -5.226369,-15.558403 -12.002585,-15.592005 -8.386473,0.443643 -8.389345,8.07842 -10.977923,15.962103 z","m 13.649175,27.103089 c 0.04882,3.468153 4.834667,-9.583337 6.588195,-10.09273 1.944524,-0.564876 8.959971,7.633074 10.927134,7.622349 3.817523,-1.045243 2.286836,6.002018 5.465179,2.100283 0.861355,-7.349693 -5.226369,-15.558403 -12.002585,-15.592005 -8.386473,0.443643 -10.473894,8.84045 -10.977923,15.962103 z"],A=["","m 20.505037,15.874534 c -8.133262,6.60722 -8.89088,20.848549 -7.659496,30.489014 5.069765,6.347684 19.563974,5.988072 24.364744,-0.565417 1.49714,-9.688705 -0.277707,-24.105608 -8.797252,-30.23857 -2.141032,-1.541264 -5.860409,-1.348427 -7.907996,0.314973 z","m 20.505037,15.874534 c -8.133262,6.60722 -9.16442,11.559966 -7.933036,21.200431 5.069765,6.347684 20.009435,6.275159 24.810205,-0.27833 1.49714,-9.688705 -0.449628,-15.104112 -8.969173,-21.237074 -2.141032,-1.541264 -5.860409,-1.348427 -7.907996,0.314973 z","m 12.572001,37.074965 c 5.069765,6.347684 20.345291,6.908875 25.146061,0.355386 0.744986,-8.658837 0.355385,-22.759983 -12.50707,-22.847146 -13.828478,-0.09371 -13.353222,16.552986 -12.638991,22.49176 z","M 24.825961,22.14324 C 32.37628,22.011084 36.304415,8.4992208 25.339931,8.3917032 14.375447,8.2841856 15.798885,22.301245 24.825961,22.14324 Z"],I=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var r;Object(c.a)(this,a),r=e.call(this,t);var n=t.faceColor,o=void 0===n?"#bfbfbf":n,i=t.bodyColor,s=void 0===i?"#999999":i,l=t.backgroundColor,h=void 0===l?"#98bfe7":l,u=t.hair,d=void 0===u?w[Math.floor(Math.random()*w.length)]:u,f=t.backHair,m=void 0===f?A[Math.floor(Math.random()*A.length)]:f,v=t.hairColor,b=void 0===v?"#444":v,p=t.clothingColor,g=void 0===p?"#f00":p,M=t.clothing,k=void 0===M?H[Math.floor(Math.random()*H.length)]:M;return r.state={faceColor:o,bodyColor:s,backgroundColor:h,hair:d,backHair:m,hairColor:b,clothingColor:g,clothing:k},r}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("svg",{viewBox:"0 0 50.000 70.000",height:"70mm",width:"50mm"},n.a.createElement("defs",{id:"defs"},n.a.createElement("clipPath",{id:"clip",clipPathUnits:"userSpaceOnUse"},n.a.createElement("rect",{id:"clipRect",width:"50.000",height:"70.00",x:"0",y:"0"}))),n.a.createElement("g",{id:"layer1"},n.a.createElement("g",{clipPath:"url(#clip)",id:"profile"},n.a.createElement("rect",{y:"0",x:"0",height:"70.000",width:"50.000",id:"background",style:{fill:this.state.backgroundColor,fillOpacity:1,stroke:"#000000",strokeWidth:2.00001,strokeMiterlimit:4,strokeDasharray:"none",strokeDashoffset:0,strokeOpacity:1}}),n.a.createElement("path",{style:{fill:this.state.hairColor,stroke:"black",strokeWidth:1},d:this.state.backHair}),n.a.createElement("path",{style:{fill:this.state.bodyColor,stroke:"black",strokeWidth:1},d:"m 20.000127,39.762751 h 10.000064 c 5.000031,10.000064 5.000031,10.000064 20.000126,15.000096 V 70.000443 H 0 V 54.762847 C 15.000095,49.762815 15.000095,49.762815 20.000127,39.762751 Z",id:"body"}),n.a.createElement("ellipse",{style:{fill:this.state.faceColor,stroke:"black",strokeWidth:1},id:"face",cx:"25.000158",cy:"29.76268",rx:"10.000064",ry:"15.000095"}),n.a.createElement("path",{style:{fill:this.state.hairColor,stroke:"black",strokeWidth:1},d:this.state.hair}),n.a.createElement("path",{style:{fill:this.state.clothingColor,stroke:"black",strokeWidth:1},d:this.state.clothing}),n.a.createElement("rect",{style:{fill:"none",stroke:"black",strokeWidth:2},id:"border",width:"50.000",height:"70.000",x:"0.0",y:"0.0"}))))}}]),a}(n.a.Component);I.generate=function(){return{hair:w[Math.floor(Math.random()*w.length)],backHair:A[Math.floor(Math.random()*A.length)],clothing:H[Math.floor(Math.random()*H.length)]}};var x=I,L=(a(24),a(8)),N=a.n(L),T=parseInt((new Date).getFullYear());function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=Array.from(new Array(t+e+3)).map((function(){return Math.ceil(6*Math.random())})).sort();return a.slice(t,t+3).reduce((function(t,e){return t+e}),0)}var D=["STR","DEX","CON","INT","WIS","CHA"];function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return D.reduce((function(a,r){return a[r]=B(t,e),a}),{})}var W=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var r;Object(c.a)(this,a),r=e.call(this,t);var o=t.name,i=t.dateOfBirth,s=void 0===i?[]:i,h=t.maritalStatus,u=t.location,d=t.tags,f=void 0===d?[]:d,m=t.stats,v=void 0===m?R():m,b=t.backgroundHSL,p=void 0===b?[Math.floor(360*Math.random()),100,75]:b,g=t.skinHSL,M=void 0===g?[34,72,Math.floor(80*Math.random()+10)]:g,k=t.hairHSL,O=void 0===k?[Math.floor(360*Math.random()),Math.floor(50*Math.random()+50),Math.floor(20*Math.random()+10)]:k,E=t.clothingHSL,y=void 0===E?[Math.floor(360*Math.random()),Math.floor(100*Math.random()),Math.floor(100*Math.random())]:E,S=t.clothing,j=t.hair,C=t.backHair;return r.state={name:o,tags:f,stats:v,dateOfBirth:s,location:u,maritalStatus:h,backgroundHSL:p,skinHSL:M,hairHSL:O,clothingHSL:y,clothing:S,hair:j,backHair:C},r._isMounted=!1,void 0===o&&a.generate().then(function(t){this.setState(t)}.bind(Object(l.a)(r))),r.canvas=n.a.createRef(),r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"render",value:function(){var t=this.state.skinHSL,e=N.a.hsluvToHex(this.state.backgroundHSL),a=N.a.hsluvToHex([t[0],t[1],t[2]-5]),r=N.a.hsluvToHex(t),o=N.a.hsluvToHex(this.state.clothingHSL),i=N.a.hsluvToHex(this.state.hairHSL),c=D.map(function(t){var e=this.state.stats[t],a="value";return e<=6?a+=" very low":e<=8?a+=" low":e>=14?a+=" very high":e>=12&&(a+=" high"),n.a.createElement("div",{key:t,className:"stat ".concat(t)},n.a.createElement("div",{className:"name"},t),n.a.createElement("div",{className:a},e))}.bind(this));return n.a.createElement("div",{className:"person",style:this.props.style||{}},n.a.createElement(x,{backgroundColor:e,bodyColor:r,faceColor:a,clothingColor:o,hairColor:i,clothing:this.state.clothing,backHair:this.state.backHair,hair:this.state.hair}),n.a.createElement("h1",{className:"name"},this.state.name),n.a.createElement("div",{className:"dob"},this.state.dateOfBirth.join(".")," (",T-parseInt(this.state.dateOfBirth[2])," years old)"),n.a.createElement("div",{className:"marital-status"},this.state.maritalStatus),n.a.createElement("div",{className:"location"},this.state.location),n.a.createElement("div",{className:"stats"},c))}}]),a}(n.a.Component);W.generate=function(t){return void 0===t&&(t=parseInt((new Date).getFullYear())),new Promise((function(e,a){var r=Object(d.a)({name:void 0,dateOfBirth:void 0,maritalstatus:void 0,location:void 0,stats:R(),backgroundHSL:[Math.floor(360*Math.random()),100,75],skinHSL:[34,72,Math.floor(80*Math.random()+10)],hairHSL:[Math.floor(360*Math.random()),Math.floor(50*Math.random()+50),Math.floor(20*Math.random()+10)],clothingHSL:[Math.floor(360*Math.random()),Math.floor(100*Math.random()),Math.floor(100*Math.random())]},x.generate());k.then((function(a){var n=a(t),o=function(t){var e,a,r=new Date,n=parseInt(t)===parseInt(r.getFullYear()),o=(e=n?Math.ceil(r.getMonth()*Math.random()):Math.ceil(12*Math.random()))===parseInt(r.getMonth());if(n&&o)a=Math.ceil(Math.random()*r.getDate());else{var i=[31,28,31,30,31,30,31,31,30,31,30,31];2===e&&(t%400===0||t%4===0&&t%100!==0)&&(i[1]=29),a=Math.ceil(i[e-1]*Math.random())}return[a,e,t]}(parseInt(t)-parseInt(n.age));r.dateOfBirth=o,r.maritalStatus=n.maritalStatus,r.location=n.location,C.then((function(t){var a=t(o[2])[0];r.name=a,e(r)}))}))}))};var V=W;function P(t,e){return t.localeCompare(e)}function z(t,e){var a=t.slice().reverse(),r=e.slice().reverse();return a<r?-1:a>r?1:0}function U(t,e){return t<e?-1:t>e?1:0}var X=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(c.a)(this,a),r=e.call(this,t),Array.from(new Array(50)).forEach(function(t,e){var a={timestamp:performance.now()};V.generate().then(function(t){Object.keys(t).forEach((function(e){a[e]=t[e]})),this.setState({people:this.state.people.concat([a]).sort()})}.bind(this))}.bind(Object(l.a)(r))),r.state={people:[],sortKey:void 0,sortReversed:!1},r}return Object(s.a)(a,[{key:"handleSort",value:function(t){function e(t,e){function a(){var a=this.state.people.map((function(t){return Object.assign({},t,{timestamp:performance.now()})})).sort(function(a,r){var n,o,i=/^stat:(.*)/.exec(t);return null!==i?(n=a.stats[i[1]],o=r.stats[i[1]]):(n=a[t],o=r[t]),this.state.sortKey!==t||this.state.sortReversed?e(n,o):e(o,n)}.bind(this));this.setState({sortKey:t,people:a,sortReversed:this.state.sortKey===t&&!this.state.sortReversed})}return a.bind(this),a}switch(e.bind(this),t){case"name":return e("name",P).bind(this);case"age":return e("dateOfBirth",z).bind(this);case"marital status":return e("maritalStatus",P).bind(this);case"location":return e("location",P).bind(this);case"STR":return e("stat:STR",U).bind(this);case"DEX":return e("stat:DEX",U).bind(this);case"CON":return e("stat:CON",U).bind(this);case"INT":return e("stat:INT",U).bind(this);case"WIS":return e("stat:WIS",U).bind(this);case"CHA":return e("stat:CHA",U).bind(this)}}},{key:"render",value:function(){var t=this.state.people.slice().map((function(t,e){return n.a.createElement(V,Object.assign({},t,{key:"".concat(e,"_").concat(t.timestamp),style:{order:e}}))}));return n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,"People of the Village"),n.a.createElement("div",null,n.a.createElement("span",null,"Sort: "),n.a.createElement("button",{onClick:this.handleSort("name")},"name"),n.a.createElement("button",{onClick:this.handleSort("age")},"age"),n.a.createElement("button",{onClick:this.handleSort("marital status")},"marital status"),n.a.createElement("button",{onClick:this.handleSort("location")},"location"),n.a.createElement("button",{onClick:this.handleSort("STR")},"STR"),n.a.createElement("button",{onClick:this.handleSort("DEX")},"DEX"),n.a.createElement("button",{onClick:this.handleSort("CON")},"CON"),n.a.createElement("button",{onClick:this.handleSort("INT")},"INT"),n.a.createElement("button",{onClick:this.handleSort("WIS")},"WIS"),n.a.createElement("button",{onClick:this.handleSort("CHA")},"CHA")),n.a.createElement("div",{className:"people"},t))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.3df8cf72.chunk.js.map